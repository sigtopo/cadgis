{
  "title": "cadgis_Maroc",
  "description": "<meta name=\"description\" content=\"CadGIS est une carte web interactive d√©di√©e au Maroc, permettant de visualiser les titres fonciers, bornes, zonages et limites administratives par province et par r√©gion, avec tableau filtrable et liens de t√©l√©chargement.\">\n",
  "head": "<meta charset=\"UTF-8\" />\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />",
  "htmlAttrs": "lang=\"en\" class=\"\"",
  "tags": [
    "cadgis",
    "webgis",
    "sig",
    "gis",
    "maroctitres fonciers",
    "bornes",
    "zonage",
    "limites administrativesopenlayers",
    "webmapping",
    "cartomarocprovinces maroc",
    "r√©gions maroc",
    "donn√©es g√©ographiquescadastre maroc",
    "foncier maroc",
    "g√©odonn√©es"
  ],
  "autoupdate": true,
  "autosave": false,
  "autotest": false,
  "delay": 1500,
  "formatOnsave": false,
  "view": "split",
  "mode": "full",
  "theme": "dark",
  "layout": "responsive",
  "recoverUnsaved": false,
  "showSpacing": false,
  "welcome": true,
  "readonly": false,
  "allowLangChange": true,
  "activeEditor": "markup",
  "markup": {
    "language": "html",
    "content": "<!doctype html>\r\n<html lang=\"fr\">\r\n<head>\r\n<meta charset=\"utf-8\" />\r\n\r\n<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/ol@v7.4.0/ol.css\" />\r\n<script src=\"https://cdn.jsdelivr.net/npm/ol@v7.4.0/dist/ol.js\"></script>\r\n\r\n<style>\r\nhtml, body{\r\n  margin:0;\r\n  padding:0;\r\n  height:100%;\r\n  overflow:hidden;\r\n  font-family:Arial, sans-serif;\r\n}\r\n\r\n/* ÿßŸÑÿ≠ÿßŸàŸäÿ© ÿßŸÑÿπÿßŸÖÿ© */\r\n#app{\r\n  height:100%;\r\n  display:flex;\r\n  flex-direction:column;\r\n}\r\n\r\n/* ÿ™ÿ±ŸàŸäÿ≥ÿ© ÿπÿßÿØŸäÿ© */\r\n#header{\r\n  flex-shrink:0;\r\n  background:linear-gradient(135deg,#E49112 0%,#1B5B9A 100%);\r\n  color:#fff;\r\n  text-align:center;\r\n  padding:12px 10px;\r\n  font-size:clamp(14px,4vw,22px);\r\n  font-weight:bold;\r\n  box-shadow:0 4px 6px rgba(0,0,0,0.1);\r\n}\r\n\r\n/* ŸÖŸÜÿ∑ŸÇÿ© ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ÿ™ŸÇŸàŸÖ ÿ®ÿ™ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ© */\r\n#content{\r\n  flex:1;\r\n  display:flex;\r\n  justify-content:center;\r\n  align-items:center;\r\n  background:#e5e7eb;\r\n  padding:10px;\r\n  box-sizing:border-box;\r\n}\r\n\r\n/* ÿ•ÿ∑ÿßÿ± ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ©: ÿπÿ±ÿ∂Ÿá Ÿàÿ∑ŸàŸÑŸá ŸÖÿ™ŸÜÿßÿ≥ÿ®ÿßŸÜ ŸÖÿπ ÿßŸÑÿ¥ÿßÿ¥ÿ© ŸÖÿπ ŸáŸàÿßŸÖÿ¥ */\r\n#map-wrapper{\r\n  position:relative;\r\n  width:100%;\r\n  height:100%;\r\n  max-width:1200px;    /* ÿ£ŸÇÿµŸâ ÿπÿ±ÿ∂ ÿπŸÑŸâ ÿßŸÑÿØŸäÿ≥ŸÉÿ™Ÿàÿ® */\r\n  max-height: calc(100% - 20px); /* Ÿäÿ™ÿ±ŸÉ ŸáÿßŸÖÿ¥ ÿ®ÿ≥Ÿäÿ∑ ÿØÿßÿÆŸÑ #content */\r\n  background:#fff;\r\n  border-radius:10px;\r\n  box-shadow:0 4px 18px rgba(0,0,0,0.25);\r\n  overflow:hidden;\r\n}\r\n\r\n/* ÿπŸÑŸâ ÿßŸÑŸÖŸàÿ®ÿßŸäŸÑ: ÿ•ÿ∑ÿßÿ± ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ© Ÿäÿ£ÿÆÿ∞ ÿ™ŸÇÿ±Ÿäÿ®Ÿãÿß ŸÉÿßŸÖŸÑ ÿßŸÑÿπÿ±ÿ∂ ŸàÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ ŸÖÿπ ŸáŸàÿßŸÖÿ¥ */\r\n@media(max-width:768px){\r\n  #map-wrapper{\r\n    max-width:100%;\r\n    max-height:100%;\r\n    margin:0;\r\n    border-radius:8px;\r\n  }\r\n}\r\n\r\n/* ÿπŸÜÿµÿ± ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ© ÿØÿßÿÆŸÑ ÿßŸÑÿ•ÿ∑ÿßÿ± */\r\n#map{\r\n  position:absolute;\r\n  inset:0;\r\n  width:100%;\r\n  height:100%;\r\n}\r\n\r\n/* Popup */\r\n.ol-popup{\r\n  background:linear-gradient(135deg,#ffffff 0%,#f5f7fb 100%);\r\n  padding:14px 16px;\r\n  border:1px solid #e0e4ef;\r\n  min-width:200px;\r\n  max-width:90vw;\r\n  z-index:9999;\r\n  font-size:13px;\r\n  border-radius:10px;\r\n  box-shadow:0 10px 25px rgba(15,23,42,0.18);\r\n  color:#1f2933;\r\n}\r\n.ol-popup b{font-size:14px;color:#111827;}\r\n.ol-popup a,\r\n.ol-popup button{\r\n  display:inline-block;\r\n  margin-top:6px;\r\n  padding:6px 10px;\r\n  background:#dc2626;\r\n  color:#fff;\r\n  border:none;\r\n  border-radius:6px;\r\n  text-decoration:none;\r\n  font-size:12px;\r\n  cursor:pointer;\r\n  margin-right:5px;\r\n}\r\n.ol-popup a:hover,\r\n.ol-popup button:hover{background:#b91c1c;}\r\n.ol-popup .request-btn{background:#9333ea;}\r\n.ol-popup .request-btn:hover{background:#7e22ce;}\r\n.ol-popup .download-btn{background:#4CAF50;}\r\n.ol-popup .download-btn:hover{background:#388E3C;}\r\n\r\n/* ÿ£ÿ≤ÿ±ÿßÿ± ÿ™ŸàÿßÿµŸÑ ÿØÿßÿÆŸÑ ÿ•ÿ∑ÿßÿ± ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ© */\r\n#contactButtons{\r\n  position:absolute;\r\n  right:10px;\r\n  bottom:10px;\r\n  z-index:2300;\r\n  display:flex;\r\n  flex-direction:column;\r\n  gap:6px;\r\n}\r\n#contactButtons a{\r\n  width:34px;\r\n  height:34px;\r\n  border-radius:50%;\r\n  display:flex;\r\n  align-items:center;\r\n  justify-content:center;\r\n  background:#111827;\r\n  color:#fff;\r\n  text-decoration:none;\r\n  font-size:16px;\r\n  box-shadow:0 2px 6px rgba(0,0,0,0.18);\r\n}\r\n#contactButtons a:hover{opacity:0.85;}\r\n\r\n/* ÿ≤ÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑÿÆŸÑŸÅŸäÿ© */\r\n#basemapToggle{\r\n  position:absolute;\r\n  top:10px;\r\n  right:250px;\r\n  z-index:2100;\r\n  padding:6px 10px;\r\n  font-size:12px;\r\n  border-radius:6px;\r\n  border:none;\r\n  background:#2563eb;\r\n  color:#fff;\r\n  cursor:pointer;\r\n}\r\n#basemapToggle:hover{background:#1d4ed8;}\r\n\r\n/* ÿ≤ÿ± ÿ•ÿ∏Ÿáÿßÿ±/ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ¨ÿØŸàŸÑ ÿπŸÑŸâ ÿßŸÑŸáÿßÿ™ŸÅ */\r\n#toggleProv{\r\n  position:absolute;\r\n  left:10px;\r\n  top:10px;\r\n  z-index:2600;\r\n  padding:6px 10px;\r\n  font-size:12px;\r\n  border-radius:6px;\r\n  border:none;\r\n  background:#111827;\r\n  color:#fff;\r\n  cursor:pointer;\r\n  display:none; /* Ÿäÿ∏Ÿáÿ± ŸÅŸÇÿ∑ ÿπŸÑŸâ ÿßŸÑŸÖŸàÿ®ÿßŸäŸÑ */\r\n}\r\n\r\n/* ÿ®ÿ≠ÿ´ OSM ÿ®ÿ≥Ÿäÿ∑ */\r\n#searchContainer{\r\n  position:absolute;\r\n  top:10px;\r\n  right:10px;\r\n  z-index:2000;\r\n  display:flex;\r\n  flex-direction:column;\r\n}\r\n#searchBoxOSM{\r\n  width:220px;\r\n  padding:6px 10px;\r\n  font-size:13px;\r\n  border-radius:20px;\r\n  border:1px solid #ccc;\r\n  outline:none;\r\n}\r\n#searchBoxOSM:focus{border-color:#2563eb;}\r\n#suggestions{\r\n  margin-top:2px;\r\n  width:220px;\r\n  max-height:150px;\r\n  overflow-y:auto;\r\n  padding:0;\r\n  list-style:none;\r\n  border:1px solid #ccc;\r\n  background:#fff;\r\n  border-radius:6px;\r\n  display:none;\r\n  font-size:13px;\r\n}\r\n#suggestions li{padding:6px 10px;cursor:pointer;}\r\n#suggestions li:hover{background:#f0f0f0;}\r\n@media(max-width:768px){\r\n  #searchBoxOSM,#suggestions{width:160px;}\r\n}\r\n\r\n/* ÿµŸÜÿØŸàŸÇ ÿ¨ÿØŸàŸÑ ÿØÿßÿÆŸÑ ÿ•ÿ∑ÿßÿ± ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ© */\r\n#prov-container{\r\n  position:absolute;\r\n  left:10px;\r\n  top:60px;\r\n  z-index:2500;\r\n  background:rgba(255,255,255,0.9);\r\n  padding:10px 12px;\r\n  border-radius:8px;\r\n  box-shadow:0 2px 8px rgba(0,0,0,0.18);\r\n  max-height:70%;\r\n  font-size:12px;\r\n  min-width:340px;\r\n  display:flex;\r\n  flex-direction:column;\r\n}\r\n#prov-container h2{\r\n  margin:0 0 8px 0;\r\n  font-size:14px;\r\n}\r\n#prov-filters{\r\n  display:flex;\r\n  flex-wrap:wrap;\r\n  gap:6px;\r\n  margin-bottom:8px;\r\n}\r\n#prov-filters select,\r\n#prov-filters input{\r\n  padding:3px 6px;\r\n  font-size:12px;\r\n}\r\n\r\n/* ÿ≠ÿßŸàŸäÿ© ÿßŸÑÿ™ŸÖÿ±Ÿäÿ± ÿßŸÑÿπŸÖŸàÿØŸä ŸÑŸÑÿ¨ÿØŸàŸÑ */\r\n#prov-scroll-wrapper{\r\n  max-height:55vh;\r\n  overflow-y:auto;\r\n  overflow-x:hidden;\r\n}\r\n\r\n/* ÿ¨ÿØŸàŸÑ ÿßŸÑŸÖÿ≠ÿßŸÅÿ∏ÿßÿ™ */\r\n#prov-table{\r\n  border-collapse:collapse;\r\n  width:100%;\r\n}\r\n#prov-table th,\r\n#prov-table td{\r\n  border:1px solid #ddd;\r\n  padding:4px 6px;\r\n}\r\n#prov-table th{\r\n  background:#f3f4f6;\r\n}\r\n#prov-table tbody tr:nth-child(even){\r\n  background:rgba(250,250,250,0.9);\r\n}\r\n#prov-table tbody tr.highlight{\r\n  background:#fffbdd !important;\r\n}\r\n\r\n/* ŸÖŸàÿ®ÿßŸäŸÑ: ÿßŸÑÿ¨ÿØŸàŸÑ ÿ£ÿ≥ŸÅŸÑ ÿßŸÑÿ•ÿ∑ÿßÿ± ŸÖÿπ ÿ™ŸÖÿ±Ÿäÿ± ÿπŸÖŸàÿØŸä */\r\n@media(max-width:768px){\r\n  #prov-container{\r\n    left:0;\r\n    right:0;\r\n    top:auto;\r\n    bottom:0;\r\n    margin:0 auto;\r\n    max-height:55%;\r\n    width:96%;\r\n    max-width:96%;\r\n    font-size:11px;\r\n    background:#f9fafb;\r\n    border-radius:14px 14px 0 0;\r\n    box-shadow:0 -4px 18px rgba(0,0,0,0.22);\r\n    border:1px solid #e5e7eb;\r\n  }\r\n  #toggleProv{\r\n    display:block;\r\n  }\r\n  #prov-scroll-wrapper{\r\n    max-height:45vh;\r\n  }\r\n}\r\n</style>\r\n</head>\r\n<body>\r\n<div id=\"app\">\r\n  <header id=\"header\">\r\n    CadGIS | Titres fonciers | Bornes | Zonage | Limites ADM\r\n  </header>\r\n\r\n  <main id=\"content\">\r\n    <!-- ÿ•ÿ∑ÿßÿ± ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ© ÿßŸÑŸÖÿ≠ÿØÿØ ÿßŸÑÿ≠ÿØŸàÿØ -->\r\n    <div id=\"map-wrapper\">\r\n      <div id=\"map\"></div>\r\n\r\n      <!-- ÿ≤ÿ± ÿ•ÿ∏Ÿáÿßÿ±/ÿ•ÿÆŸÅÿßÿ° ÿßŸÑÿ¨ÿØŸàŸÑ ŸÑŸÑŸÖŸàÿ®ÿßŸäŸÑ -->\r\n      <button id=\"toggleProv\">‚ò∞ Provinces</button>\r\n\r\n      <!-- ÿ¨ÿØŸàŸÑ ÿßŸÑÿ£ŸÇÿßŸÑŸäŸÖ ŸÖÿπ ŸÅŸÑÿßÿ™ÿ± -->\r\n      <div id=\"prov-container\">\r\n        <h2>Filtres Provinces</h2>\r\n        <div id=\"prov-filters\">\r\n          <input type=\"text\" id=\"filterProv\" placeholder=\"üîç Filtrer par Province\" />\r\n          <select id=\"filterRegion\">\r\n            <option value=\"\" />Toutes les r√©gions\r\n            <option value=\"Casablanca-Settat\" />Casablanca-Settat\r\n            <option value=\"Marrakech-Safi\" />Marrakech-Safi\r\n            <option value=\"Rabat-Sal√©-K√©nitra\" />Rabat-Sal√©-K√©nitra\r\n            <option value=\"F√®s-Mekn√®s\" />F√®s-Mekn√®s\r\n            <option value=\"Souss-Massa\" />Souss-Massa\r\n            <option value=\"B√©ni Mellal-Kh√©nifra\" />B√©ni Mellal-Kh√©nifra\r\n            <option value=\"Oriental\" />Oriental\r\n            <option value=\"Dr√¢a-Tafilalet\" />Dr√¢a-Tafilalet\r\n            <option value=\"Guelmim-Oued Noun\" />Guelmim-Oued Noun\r\n            <option value=\"La√¢youne-Sakia El Hamra\" />La√¢youne-Sakia El Hamra\r\n            <option value=\"Dakhla-Oued Ed-Dahab\" />Dakhla-Oued Ed-Dahab\r\n            <option value=\"Tanger-T√©touan-Al Hoce√Ø–º–∞\" />Tanger-T√©touan-Al Hoce√Ø–º–∞\r\n          </select>\r\n        </div>\r\n\r\n        <div id=\"prov-scroll-wrapper\">\r\n          <table id=\"prov-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Province</th>\r\n                <th>R√©gion</th>\r\n                <th>Nom Arabe</th>\r\n                <th>Download</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody id=\"provTableBody\"></tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- ÿ£ŸäŸÇŸàŸÜÿßÿ™ ÿ™ŸàÿßÿµŸÑ -->\r\n      <div id=\"contactButtons\">\r\n        <a href=\"mailto:contact@cartomaroc.com\" id=\"mailBtn\" title=\"Email\">‚úâ</a>\r\n        <a href=\"https://wa.me/212668090285\" target=\"_blank\" id=\"waBtn\" title=\"WhatsApp\">üü©</a>\r\n      </div>\r\n\r\n      <!-- ÿ≤ÿ± ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑÿÆŸÑŸÅŸäÿ© -->\r\n      <button id=\"basemapToggle\">üó∫Ô∏è OSM</button>\r\n\r\n      <!-- ÿ®ÿ≠ÿ´ OSM ÿ®ÿ≥Ÿäÿ∑ -->\r\n      <div id=\"searchContainer\">\r\n        <input type=\"text\" id=\"searchBoxOSM\" placeholder=\"üîç Rechercher...\" />\r\n        <ul id=\"suggestions\"></ul>\r\n      </div>\r\n\r\n      <div id=\"popup\" class=\"ol-popup\"></div>\r\n    </div>\r\n  </main>\r\n</div>\r\n\r\n<script>\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  const geojsonSource = new ol.source.Vector({\r\n    url: \"https://ia601703.us.archive.org/6/items/prov_ma_202601/prov_ma.txt\",\r\n    format: new ol.format.GeoJSON()\r\n  });\r\n\r\n  function getProvinceName(feature) {\r\n    const props = feature.getProperties();\r\n    const possible = [\"NOM-PROV\",\"NOM_PROV\",\"name\",\"NAME\",\"nom\",\"Nom\",\"ÿßŸÑÿßŸÇŸÑŸäŸÖ\",\"ÿßŸÑÿ•ŸÇŸÑŸäŸÖ\"];\r\n    for (let f of possible) if (props[f]) return props[f];\r\n    return \"Sans nom\";\r\n  }\r\n\r\n  const provinceToRegion = {\r\n    \"OUAD EDDAHAB\": \"Dakhla-Oued Ed-Dahab\",\r\n    \"AOUSSERD\": \"Dakhla-Oued Ed-Dahab\",\r\n    \"LAAYOUNE\": \"La√¢youne-Sakia El Hamra\",\r\n    \"BOUJDOUR\": \"La√¢youne-Sakia El Hamra\",\r\n    \"ESSMARA\": \"La√¢youne-Sakia El Hamra\",\r\n    \"TRAFAYA\": \"La√¢youne-Sakia El Hamra\",\r\n    \"GUELMIM\": \"Guelmim-Oued Noun\",\r\n    \"ASSA - ZAG\": \"Guelmim-Oued Noun\",\r\n    \"SIDI¬† IFNI\": \"Guelmim-Oued Noun\",\r\n    \"TAN - TAN\": \"Guelmim-Oued Noun\",\r\n    \"AGADIR IDA OU TANANE\": \"Souss-Massa\",\r\n    \"INEZEGANE AIT MELLOUL\": \"Souss-Massa\",\r\n    \"CHTOUKA AIT BAHA\": \"Souss-Massa\",\r\n    \"TAROUDANNT\": \"Souss-Massa\",\r\n    \"TIZNIT\": \"Souss-Massa\",\r\n    \"TATA\": \"Souss-Massa\",\r\n    \"TINGHIR\": \"Dr√¢a-Tafilalet\",\r\n    \"OURZAZTE\": \"Dr√¢a-Tafilalet\",\r\n    \"ZAGORA\": \"Dr√¢a-Tafilalet\",\r\n    \"MIDELT\": \"Dr√¢a-Tafilalet\",\r\n    \"ERRACHIDIA\": \"Dr√¢a-Tafilalet\",\r\n    \"MARRAKECH\": \"Marrakech-Safi\",\r\n    \"AL HAOUZ\": \"Marrakech-Safi\",\r\n    \"CHICHAOUA\": \"Marrakech-Safi\",\r\n    \"EL KELAA DES SRAGHNA\": \"Marrakech-Safi\",\r\n    \"REHAMNA\": \"Marrakech-Safi\",\r\n    \"YOUSSOUFIA\": \"Marrakech-Safi\",\r\n    \"SAFI\": \"Marrakech-Safi\",\r\n    \"ESSAOUIRA\": \"Marrakech-Safi\",\r\n    \"BENI MELLAL\": \"B√©ni Mellal-Kh√©nifra\",\r\n    \"AZILAL\": \"B√©ni Mellal-Kh√©nifra\",\r\n    \"FQUIH BEN SALAH\": \"B√©ni Mellal-Kh√©nifra\",\r\n    \"KHENIFRA\": \"B√©ni Mellal-Kh√©nifra\",\r\n    \"KHOURIBGA\": \"B√©ni Mellal-Kh√©nifra\",\r\n    \"CASABLANCA\": \"Casablanca-Settat\",\r\n    \"MOHAMMEDIA\": \"Casablanca-Settat\",\r\n    \"M√âDIOUNA\": \"Casablanca-Settat\",\r\n    \"NOUACER\": \"Casablanca-Settat\",\r\n    \"BERCHID\": \"Casablanca-Settat\",\r\n    \"BEN SLIMANE\": \"Casablanca-Settat\",\r\n    \"SETTAT\": \"Casablanca-Settat\",\r\n    \"SIDI BENNOUR\": \"Casablanca-Settat\",\r\n    \"EL JADIDA\": \"Casablanca-Settat\",\r\n    \"RABAT\": \"Rabat-Sal√©-K√©nitra\",\r\n    \"SAL√â\": \"Rabat-Sal√©-K√©nitra\",\r\n    \"SKHIRATE- TEMARA\": \"Rabat-Sal√©-K√©nitra\",\r\n    \"K√âNITRA\": \"Rabat-Sal√©-K√©nitra\",\r\n    \"KHEMISSET\": \"Rabat-Sal√©-K√©nitra\",\r\n    \"SIDI KACEM\": \"Rabat-Sal√©-K√©nitra\",\r\n    \"SIDI SLIMANE\": \"Rabat-Sal√©-K√©nitra\",\r\n    \"F√àS\": \"F√®s-Mekn√®s\",\r\n    \"MEKNES\": \"F√®s-Mekn√®s\",\r\n    \"EL HAJEB\": \"F√®s-Mekn√®s\",\r\n    \"SEFROU\": \"F√®s-MekŸÜ√®s\",\r\n    \"IFRANE\": \"F√®s-Mekn√®s\",\r\n    \"BOULEMANE\": \"F√®s-Mekn√®s\",\r\n    \"TAZA\": \"F√®s-Mekn√®s\",\r\n    \"TAOUNATE\": \"F√®s-Mekn√®s\",\r\n    \"MOULAY YACOUB\": \"F√®s-Mekn√®s\",\r\n    \"OUJDA - ANGAD\": \"Oriental\",\r\n    \"NADOR\": \"Oriental\",\r\n    \"BERKANE\": \"Oriental\",\r\n    \"TAOURIRT\": \"Oriental\",\r\n    \"JRADA\": \"Oriental\",\r\n    \"FIGUIG\": \"Oriental\",\r\n    \"GUERSSIF\": \"Oriental\",\r\n    \"DRIOUCH\": \"Oriental\",\r\n    \"TANGER - ASILAH\": \"Tanger-T√©touan-Al Hoce√Ø–º–∞\",\r\n    \"M'DIQ-FNIDEQ\": \"Tanger-T√©touan-Al Hoce√Ø–º–∞\",\r\n    \"TETOUAN\": \"Tanger-T√©touan-Al Hoce√Ø–º–∞\",\r\n    \"LARACHE\": \"Tanger-T√©touan-Al Hoce√Ø–º–∞\",\r\n    \"AL HOUCEIMA\": \"Tanger-T√©touan-Al Hoce√Ø–º–∞\",\r\n    \"CHEFCHAOUEN\": \"Tanger-T√©touan-Al Hoce√Ø–º–∞\",\r\n    \"OUAZZANE\": \"Tanger-T√©touan-Al Hoce√Ø–º–∞\",\r\n    \"EL FAHS - ANGRA\": \"Tanger-T√©touan-Al Hoce√Ø–º–∞\"\r\n  };\r\n\r\n  const provinceDownloadLinks = {\r\n    \"AGADIR IDA OU TANANE\": \"https://drive.google.com/file/d/1UWDokzDiJuNO6_vqc590B87iEF9_IcTK/view?usp=drivesdk\",\r\n    \"AL HOUCEIMA\": \"https://drive.google.com/file/d/1YfXPI41zaqDRkX0LVMtdQyGlzD65ZWi-/view?usp=drivesdk\",\r\n    \"TANGER - ASILAH\": \"https://drive.google.com/file/d/1YlidcDUw3SPD7FeNnignFL7TesbRaxp3/view?usp=drivesdk\",\r\n    \"NADOR\": \"https://drive.google.com/file/d/1wanlzg6Fa9G_Wi6818LwpNn1kNTJntJm/view?usp=drivesdk\",\r\n    \"SEFROU\": \"https://drive.google.com/file/d/1ppx8GAqzlTGkrfG9aqX3GDkSt2m6tpJg/view?usp=drivesdk\",\r\n    \"OURZAZTE\": \"https://drive.google.com/file/d/1pUAIzQBujnLogFnYkx6Tyjj_bn7nS_7N/view?usp=drivesdk\",\r\n    \"KHENIFRA\": \"https://drive.google.com/file/d/1ROc0iqfuE_koHagIEjtORQA9jyyhrBsD/view?usp=drivesdk\",\r\n    \"MIDELT\": \"https://drive.google.com/file/d/1XBBoFWEYrWED6bpn0Cjv_gKOEaLqgacF/view?usp=drivesdk\",\r\n    \"LAAYOUNE\": \"https://drive.google.com/file/d/1skAk7DnHMT8KbdckQueH7Vt8OB1RcwUy/view?usp=drivesdk\",\r\n    \"TAZA\": \"https://drive.google.com/file/d/1t2o1j6mwy2BW9mkfCVzOFTS-KQhr3w4H/view?usp=drivesdk\",\r\n    \"TAOURIRT\": \"https://drive.google.com/file/d/14YVjpHq26bcoIjSO-VoKTVNhgzxBQdNY/view?usp=drivesdk\",\r\n    \"KHEMISSET\": \"https://drive.google.com/file/d/1d5IUnW_2pAhg64VUqCmf3dk8fr9fG6d_/view?usp=drivesdk\",\r\n    \"FQUIH BEN SALAH\": \"https://drive.google.com/file/d/1rjAx7oPAKQ00teooftXITob8yT-Qpruf/view?usp=drivesdk\",\r\n    \"BENI MELLAL\": \"https://drive.google.com/file/d/1anC3cMqAJrhrjhZ21NPK8CnMuJcWLHOu/view?usp=drivesdk\",\r\n    \"BERKANE\": \"https://drive.google.com/file/d/1sv-PSyXqi5uSg-ddUoUBJ9rh2096_OPW/view?usp=drivesdk\",\r\n    \"GUELMIM\": \"https://drive.google.com/file/d/1nXiPzn8Q-wXaJvoy7m7gEBZNzlY-WKc1/view?usp=drivesdk\",\r\n    \"GUERSSIF\": \"https://drive.google.com/file/d/1X-Z6WjtJUp7Zj-ggm9PvWJZiE_DlP0AZ/view?usp=drivesdk\",\r\n    \"MEKNES\": \"https://drive.google.com/file/d/1a8GSI4_0a6L1hgkaAO0LrJBZ4X0fa6K4/view?usp=drivesdk\",\r\n    \"EL HAJEB\": \"https://drive.google.com/file/d/1BS7zD6tcsHBTIc8_GRnPWHN06veAOavG/view?usp=drivesdk\",\r\n    \"CHTOUKA AIT BAHA\": \"https://drive.google.com/file/d/16H78YAucHZ2dmHBlQoEYAZjyTOeRKxrn/view?usp=drivesdk\",\r\n    \"SIDI SLIMANE\": \"https://drive.google.com/file/d/1Zg_ZHhCCm11UG740ntFhOojgK3Qn6ZZF/view?usp=drivesdk\",\r\n    \"ESSAOUIRA\": \"https://drive.google.com/file/d/1L_t0wJAVCE9ARPZqIj0oO0zs5WvGz-Tr/view?usp=drivesdk\",\r\n    \"ERRACHIDIA\": \"https://drive.google.com/file/d/1CQUSWjOngEjJ0wqb5KCyYZM6IwyvN5bN/view?usp=drivesdk\",\r\n    \"TIZNIT\": \"https://drive.google.com/file/d/1fhYvVKrfxseEfJYmFjNQIzxQaglz825M/view?usp=drivesdk\",\r\n    \"OUAD EDDAHAB\": \"https://drive.google.com/file/d/1W8TCjsJgGSjER0IZ8-oAd6YYIMAZzmul/view?usp=drivesdk\",\r\n    \"BERCHID\": \"https://drive.google.com/file/d/1urqgs3lWp_6bKJkded0vET9UI5rS2brY/view?usp=drivesdk\",\r\n    \"SKHIRATE- TEMARA\": \"https://drive.google.com/file/d/106K0yigp55ZDAGNQY_XVVY5WmZ-bAEJH/view?usp=drivesdk\",\r\n    \"TAROUDANNT\": \"https://drive.google.com/file/d/1xkm_jDhqofnXlYJwMFtXJvnotQNplNSw/view?usp=drivesdk\",\r\n    \"LARACHE\": \"https://drive.google.com/file/d/1BVFiiO3aRAGQRAOws-wZyeZoMBfveQS2/view?usp=drivesdk\",\r\n    \"RABAT\": \"https://drive.google.com/file/d/13QhQIUO1ItLQi133fQ8p2yxHsEdw0oVn/view?usp=drivesdk\",\r\n    \"INEZEGANE AIT MELLOUL\": \"https://drive.google.com/file/d/1yyd-GQF5BVfF4SrYlwGPEkr7ucxYhiql/view?usp=drivesdk\",\r\n    \"KHOURIBGA\": \"https://drive.google.com/file/d/1V-nlu6qBQIBwhCqT-yV7pHOJK_8z3AyZ/view?usp=drivesdk\",\r\n    \"F√àS\": \"https://drive.google.com/file/d/1a6QUwgao4okjcyR1V_Hz3BAWZVeo-MS5/view?usp=drivesdk\",\r\n    \"SIDI KACEM\": \"https://drive.google.com/file/d/1-exZqMZPQ62H4X3PH5iFoiic1XzSvDXv/view?usp=drivesdk\",\r\n    \"SIDI BENNOUR\": \"https://drive.google.com/file/d/1eLfmImakIX_B2h0KNBCYrx3LF8H0Mm--/view?usp=drivesdk\",\r\n    \"IFRANE\": \"https://drive.google.com/file/d/1c1w2yGvR3cahFsSbCSt7kD2maEkedhr7/view?usp=drivesdk\",\r\n    \"K√âNITRA\": \"https://drive.google.com/file/d/1fhdAWLXrNEcGR42QRX6b8q9zh3BfP2Ry/view?usp=drivesdk\",\r\n    \"SETTAT\": \"https://drive.google.com/file/d/1Rm37o7-ybmDhlLAJWg2-LUVoH0ZxqIx7/view?usp=drivesdk\",\r\n    \"TETOUAN\": \"https://drive.google.com/file/d/1ykxVLBOxAwNM5H61uMDdh2b05v5ftgku/view?usp=drivesdk\",\r\n    \"MOHAMMEDIA\": \"https://drive.google.com/file/d/1Nz8_GFQNNw_4FEgXeTHTcubYd1oxMKyt/view?usp=drivesdk\",\r\n    \"NOUACER\": \"https://drive.google.com/file/d/1ZTRHOun341z907E2ncXxrxjJgDd--E83/view?usp=drivesdk\",\r\n    \"CASABLANCA\": \"https://drive.google.com/file/d/19dK56HuNRDSxyaXPbBGA7bpaZkEo5bIq/view?usp=drivesdk\",\r\n    \"AZILAL\": \"https://drive.google.com/file/d/1yf752JHPOL8o8ol8bZv3_orPaqIpD60t/view?usp=drivesdk\",\r\n    \"BOULEMANE\": \"https://drive.google.com/file/d/1MO94Ql8RAyZaRSVW6R5uhA5wlvaA3q1L/view?usp=drivesdk\",\r\n    \"TAOUNATE\": \"https://drive.google.com/file/d/1nTYogtuaLXvMO6LGNkplVDIB8AGKsNrl/view?usp=drivesdk\"\r\n  };\r\n\r\n  const geojsonLayer = new ol.layer.Vector({\r\n    source: geojsonSource,\r\n    style: function (feature) {\r\n      return new ol.style.Style({\r\n        stroke: new ol.style.Stroke({ color: \"black\", width: 1.3 }),\r\n        fill: new ol.style.Fill({ color: \"rgba(244, 67, 54, 0.1)\" }),\r\n        text: new ol.style.Text({\r\n          text: getProvinceName(feature),\r\n          font: \"bold 12px Arial\",\r\n          fill: new ol.style.Fill({ color: \"#000\" }),\r\n          stroke: new ol.style.Stroke({ color: \"#fff\", width: 2 })\r\n        })\r\n      });\r\n    }\r\n  });\r\n\r\n  const osmStandard = new ol.layer.Tile({ source:new ol.source.OSM(), visible:true });\r\n  const esriImagery = new ol.layer.Tile({\r\n    source:new ol.source.XYZ({\r\n      url:\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\r\n    }),\r\n    visible:false\r\n  });\r\n  const satLike = new ol.layer.Tile({\r\n    source:new ol.source.XYZ({\r\n      url:\"https://tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\"\r\n    }),\r\n    visible:false\r\n  });\r\n\r\n  const map = new ol.Map({\r\n    target:\"map\",\r\n    layers:[osmStandard, esriImagery, satLike, geojsonLayer],\r\n    view:new ol.View({\r\n      center:ol.proj.fromLonLat([-7.9,31.6]),\r\n      zoom:6\r\n    })\r\n  });\r\n\r\n  // ÿ™ÿ≠ÿØŸäÿ´ ÿ≠ÿ¨ŸÖ ÿßŸÑÿÆÿ±Ÿäÿ∑ÿ© ÿπŸÜÿØ ÿ™ÿ∫ŸäŸäÿ± ÿ≠ÿ¨ŸÖ ÿßŸÑŸÜÿßŸÅÿ∞ÿ©\r\n  window.addEventListener('resize', function () {\r\n    setTimeout(function(){\r\n      map.updateSize();\r\n    }, 200);\r\n  });\r\n\r\n  const selectInteraction = new ol.interaction.Select({\r\n    layers:[geojsonLayer],\r\n    style:function(feature){\r\n      return new ol.style.Style({\r\n        stroke:new ol.style.Stroke({color:\"#facc15\",width:2.5}),\r\n        fill:new ol.style.Fill({color:\"rgba(250,204,21,0.45)\"}),\r\n        text:new ol.style.Text({\r\n          text:getProvinceName(feature),\r\n          font:\"bold 12px Arial\",\r\n          fill:new ol.style.Fill({color:\"#000\"}),\r\n          stroke:new ol.style.Stroke({color:\"#fff\",width:2})\r\n        })\r\n      });\r\n    }\r\n  });\r\n  map.addInteraction(selectInteraction);\r\n\r\n  const popup = new ol.Overlay({\r\n    element:document.getElementById(\"popup\"),\r\n    positioning:\"bottom-center\",\r\n    offset:[0,-15]\r\n  });\r\n  map.addOverlay(popup);\r\n\r\n  window.downloadProvinceData = function (provinceName) {\r\n    const link = provinceDownloadLinks[provinceName];\r\n    if (link) window.open(link,\"_blank\");\r\n    else alert(\"‚ö†Ô∏è ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ ÿ∫Ÿäÿ± ŸÖÿ™ŸàŸÅÿ± ŸÑŸáÿ∞ÿß ÿßŸÑÿ•ŸÇŸÑŸäŸÖ\");\r\n  };\r\n\r\n  window.contactWhatsApp = function (provinceName) {\r\n    const frenchMessage = `Bonjour, je souhaite recevoir la base de donn√©es compl√®te des Titres, Bornes et Limites pour (*${provinceName}*). Merci !`;\r\n    const arabicMessage = `\\nŸÖÿ±ÿ≠ÿ®Ÿãÿßÿå ÿ£ŸàÿØ ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ŸÇÿßÿπÿØÿ© ÿßŸÑŸÖÿπÿ∑Ÿäÿßÿ™ ÿßŸÑŸÉÿßŸÖŸÑÿ© ÿßŸÑÿÆÿßÿµÿ© ÿ®ŸÄ:\\n(*${provinceName}*)`;\r\n    const message = frenchMessage + arabicMessage;\r\n    const whatsappURL = `https://wa.me/212668090285?text=${encodeURIComponent(message)}`;\r\n    window.open(whatsappURL,\"_blank\");\r\n  };\r\n\r\n  const filterProvInput = document.getElementById(\"filterProv\");\r\n  const filterRegionSelect = document.getElementById(\"filterRegion\");\r\n  const provTableBody = document.getElementById(\"provTableBody\");\r\n\r\n  function showPopup(feature, coord){\r\n    const nomFr = feature.get(\"NOM_PROV\") || getProvinceName(feature);\r\n    const nomAr = feature.get(\"nomArabic\") || \"\";\r\n    let html = `\r\n      <b>${nomFr}</b><br>\r\n      <span style=\"font-weight:bold; color:#FF0000;\">\r\n      Titres fonciers | Bornes | Zonage | ${nomAr}\r\n      </span><br>\r\n      ‚ÑπÔ∏è Donn√©es disponibles sur demande<br>\r\n      <button class=\"request-btn\" onclick=\"downloadProvinceData('${nomFr}')\">\r\n      üì± Demander ces donn√©es\r\n      </button><br>\r\n      <button class=\"download-btn\" onclick=\"contactWhatsApp('${nomFr}')\">\r\n      üìû Contacter via WhatsApp\r\n      </button><br><br>\r\n      <a href=\"mailto:contact@cartomaroc.com\">contact@cartomaroc.com</a>\r\n    `;\r\n    popup.getElement().innerHTML = html;\r\n    popup.setPosition(coord);\r\n\r\n    const reg = provinceToRegion[nomFr] || \"\";\r\n    if (reg){\r\n      filterRegionSelect.value = reg;\r\n      applyTableFilters();\r\n    }\r\n    highlightRow(nomFr);\r\n  }\r\n\r\n  map.on(\"click\",(evt)=>{\r\n    const f = map.forEachFeatureAtPixel(evt.pixel,ft=>ft);\r\n    if(f){\r\n      showPopup(f,evt.coordinate);\r\n      selectInteraction.getFeatures().clear();\r\n      selectInteraction.getFeatures().push(f);\r\n    }else{\r\n      popup.setPosition(undefined);\r\n      selectInteraction.getFeatures().clear();\r\n      clearHighlight();\r\n    }\r\n  });\r\n\r\n  const basemapBtn = document.getElementById(\"basemapToggle\");\r\n  const basemaps = [\r\n    {layer:osmStandard,label:\"OSM\"},\r\n    {layer:esriImagery,label:\"Esri\"},\r\n    {layer:satLike,label:\"Sat\"}\r\n  ];\r\n  let currentBase = 0;\r\n  function setBasemap(i){\r\n    basemaps.forEach((b,idx)=>b.layer.setVisible(idx===i));\r\n    basemapBtn.textContent = \"üó∫Ô∏è \" + basemaps[i].label;\r\n  }\r\n  basemapBtn.addEventListener(\"click\",()=>{\r\n    currentBase = (currentBase+1)%basemaps.length;\r\n    setBasemap(currentBase);\r\n  });\r\n  setBasemap(0);\r\n\r\n  const searchBox = document.getElementById(\"searchBoxOSM\");\r\n  const suggestions = document.getElementById(\"suggestions\");\r\n  searchBox.addEventListener(\"input\",function(){\r\n    const query=this.value.trim();\r\n    if(!query){suggestions.style.display=\"none\";return;}\r\n    fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query+\", Maroc\")}&limit=5`)\r\n    .then(res=>res.json())\r\n    .then(data=>{\r\n      suggestions.innerHTML=\"\";\r\n      if(data.length>0){\r\n        data.forEach(item=>{\r\n          const li=document.createElement(\"li\");\r\n          li.textContent=item.display_name;\r\n          li.addEventListener(\"click\",()=>{\r\n            const lon=parseFloat(item.lon);\r\n            const lat=parseFloat(item.lat);\r\n            map.getView().animate({\r\n              center:ol.proj.fromLonLat([lon,lat]),\r\n              zoom:12,\r\n              duration:1000\r\n            });\r\n            suggestions.style.display=\"none\";\r\n            searchBox.value=item.display_name;\r\n          });\r\n          suggestions.appendChild(li);\r\n        });\r\n        suggestions.style.display=\"block\";\r\n      }else{\r\n        suggestions.style.display=\"none\";\r\n      }\r\n    }).catch(err=>console.error(err));\r\n  });\r\n  document.addEventListener(\"click\",(e)=>{\r\n    if(e.target!==searchBox) suggestions.style.display=\"none\";\r\n  });\r\n\r\n  geojsonSource.once(\"change\",function(){\r\n    if(geojsonSource.getState()===\"ready\"){\r\n      fillProvTable();\r\n      map.updateSize();\r\n    }\r\n  });\r\n\r\n  function fillProvTable(){\r\n    provTableBody.innerHTML=\"\";\r\n    const features = geojsonSource.getFeatures();\r\n    const added = new Set();\r\n    features.forEach(ft=>{\r\n      const nomFr = ft.get(\"NOM_PROV\") || getProvinceName(ft);\r\n      if(added.has(nomFr)) return;\r\n      added.add(nomFr);\r\n      const nomAr = ft.get(\"nomArabic\") || \"‚Äî\";\r\n      const region = provinceToRegion[nomFr] || \"‚Äî\";\r\n      const downloadLink = provinceDownloadLinks[nomFr] || null;\r\n      const tr = document.createElement(\"tr\");\r\n      tr.dataset.province = nomFr;\r\n      tr.dataset.region = region;\r\n      tr.dataset.nomAr = nomAr;\r\n      tr.innerHTML = `\r\n        <td>${nomFr}</td>\r\n        <td>${region}</td>\r\n        <td>${nomAr}</td>\r\n        <td style=\"text-align:center;\">\r\n          ${downloadLink ? `<a href=\"${downloadLink}\" target=\"_blank\">T√©l√©charger</a>` : \"‚úâÔ∏è\"}\r\n        </td>\r\n      `;\r\n      tr.addEventListener(\"click\",()=>{\r\n        const ftClicked = features.find(f=>{\r\n          const n = f.get(\"NOM_PROV\") || getProvinceName(f);\r\n          return n === nomFr;\r\n        });\r\n        if(ftClicked){\r\n          const extent = ftClicked.getGeometry().getExtent();\r\n          map.getView().fit(extent,{duration:800,padding:[50,50,50,50]});\r\n          selectInteraction.getFeatures().clear();\r\n          selectInteraction.getFeatures().push(ftClicked);\r\n          showPopup(ftClicked,ol.extent.getCenter(extent));\r\n        }\r\n      });\r\n      provTableBody.appendChild(tr);\r\n    });\r\n  }\r\n\r\n  function applyTableFilters(){\r\n    const txt = filterProvInput.value.trim().toLowerCase();\r\n    const reg = filterRegionSelect.value;\r\n    const rows = provTableBody.querySelectorAll(\"tr\");\r\n    rows.forEach(r=>{\r\n      const prov = r.dataset.province.toLowerCase();\r\n      const nomAr = (r.dataset.nomAr || \"\").toLowerCase();\r\n      const region = r.dataset.region;\r\n      const matchText = !txt || prov.includes(txt) || nomAr.includes(txt);\r\n      if(!txt){\r\n        const matchRegion = !reg || region === reg;\r\n        r.style.display = matchRegion ? \"\" : \"none\";\r\n      }else{\r\n        r.style.display = matchText ? \"\" : \"none\";\r\n      }\r\n    });\r\n  }\r\n  filterProvInput.addEventListener(\"keyup\",applyTableFilters);\r\n  filterRegionSelect.addEventListener(\"change\",applyTableFilters);\r\n\r\n  function clearHighlight(){\r\n    const rows = provTableBody.querySelectorAll(\"tr\");\r\n    rows.forEach(r=>r.classList.remove(\"highlight\"));\r\n  }\r\n  function highlightRow(provName){\r\n    const rows = provTableBody.querySelectorAll(\"tr\");\r\n    rows.forEach(r=>{\r\n      r.classList.remove(\"highlight\");\r\n      if(r.dataset.province === provName){\r\n        r.classList.add(\"highlight\");\r\n        r.scrollIntoView({behavior:\"smooth\",block:\"center\"});\r\n      }\r\n    });\r\n  }\r\n\r\n  const toggleProvBtn = document.getElementById(\"toggleProv\");\r\n  const provContainer = document.getElementById(\"prov-container\");\r\n  toggleProvBtn.addEventListener(\"click\",()=>{\r\n    if (getComputedStyle(provContainer).display === \"none\"){\r\n      provContainer.style.display = \"flex\";\r\n      toggleProvBtn.textContent = \"‚úñ Fermer\";\r\n      map.updateSize();\r\n    }else{\r\n      provContainer.style.display = \"none\";\r\n      toggleProvBtn.textContent = \"‚ò∞ Provinces\";\r\n      map.updateSize();\r\n    }\r\n  });\r\n});\r\n</script>\r\n</body>\r\n</html>\r\n"
  },
  "style": {
    "language": "css",
    "content": ""
  },
  "script": {
    "language": "javascript",
    "content": ""
  },
  "stylesheets": [],
  "scripts": [],
  "cssPreset": "",
  "imports": {},
  "types": {},
  "tests": {
    "language": "typescript",
    "content": ""
  },
  "tools": {
    "enabled": "all",
    "active": "console",
    "status": "closed"
  },
  "zoom": 1,
  "processors": [],
  "customSettings": {},
  "useTabs": false,
  "tabSize": 2,
  "lineNumbers": true,
  "wordWrap": false,
  "closeBrackets": true,
  "foldRegions": false,
  "semicolons": true,
  "singleQuote": false,
  "trailingComma": true,
  "emmet": true,
  "enableAI": false,
  "version": "47"
}